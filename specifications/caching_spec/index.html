
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for compliance-trestle package.">
      
      
      
      
        <link rel="canonical" href="https://ibm.github.io/compliance-trestle/specifications/caching_spec/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.2, mkdocs-material-7.2.8">
    
    
      
        <title>Trestle caching architecture - Compliance Trestle</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.92558b1b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      

  


  

  


  <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XT3KGMHSY8"),document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof location$&&location$.subscribe(function(t){gtag("config","G-XT3KGMHSY8",{page_path:t.pathname})})})</script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XT3KGMHSY8"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#trestle-caching-architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Compliance Trestle" class="md-header__button md-logo" aria-label="Compliance Trestle" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Compliance Trestle
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Trestle caching architecture
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/IBM/compliance-trestle/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    IBM/compliance-trestle
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Compliance Trestle" class="md-nav__button md-logo" aria-label="Compliance Trestle" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Compliance Trestle
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/IBM/compliance-trestle/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    IBM/compliance-trestle
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Trestle overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../python_trestle_setup/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Tutorials
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/trestle_sample_workflow/" class="md-nav__link">
        Intro to trestle workflow
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/continuous-compliance/continuous-compliance/" class="md-nav__link">
        Compliance posture
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/task.transformer-construction/transformer-construction/" class="md-nav__link">
        Transformer construction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/task.tanuim-to-oscal/transformation/" class="md-nav__link">
        Task - tanium-to-oscal
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Trestle command-line interface (CLI)
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Trestle command-line interface (CLI)" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Trestle command-line interface (CLI)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI for OSCAL documents
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../trestle_author/" class="md-nav__link">
        CLI for authoring governed content
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Contributing
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Contributing" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs_code_of_conduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/mkdocs_contributing/" class="md-nav__link">
        Contributing overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/IBM/compliance-trestle/graphs/contributors" class="md-nav__link">
        Contributors
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../maintainers/" class="md-nav__link">
        Maintainers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/website/" class="md-nav__link">
        Documentation website
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/DCO/" class="md-nav__link">
        Developer Certificate of Originality
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../errors/" class="md-nav__link">
        Known limitations
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../demonstrations-content/" class="md-nav__link">
        Demos
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      <label class="md-nav__link" for="__nav_8">
        Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/third-party-result-schema-SCC/" class="md-nav__link">
        Integrating with IBM SCC
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2" type="checkbox" id="__nav_8_2" >
      
      <label class="md-nav__link" for="__nav_8_2">
        trestle API reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="trestle API reference" data-md-level="2">
        <label class="md-nav__title" for="__nav_8_2">
          <span class="md-nav__icon md-icon"></span>
          trestle API reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_1" type="checkbox" id="__nav_8_2_1" >
      
      <label class="md-nav__link" for="__nav_8_2_1">
        tasks
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="tasks" data-md-level="3">
        <label class="md-nav__title" for="__nav_8_2_1">
          <span class="md-nav__icon md-icon"></span>
          tasks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.tasks.xlsx_to_oscal_component_definition/" class="md-nav__link">
        xlsx_to_oscal_component_definition
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.tasks.base_task/" class="md-nav__link">
        base_task
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.tasks.transform/" class="md-nav__link">
        transform
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.tasks.profile_to_osco/" class="md-nav__link">
        profile_to_osco
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.tasks.osco_to_oscal/" class="md-nav__link">
        osco_to_oscal
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.tasks.tanium_to_oscal/" class="md-nav__link">
        tanium_to_oscal
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_2" type="checkbox" id="__nav_8_2_2" >
      
      <label class="md-nav__link" for="__nav_8_2_2">
        core
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="core" data-md-level="3">
        <label class="md-nav__title" for="__nav_8_2_2">
          <span class="md-nav__icon md-icon"></span>
          core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.validator/" class="md-nav__link">
        validator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.oscal_version_validator/" class="md-nav__link">
        oscal_version_validator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.common_types/" class="md-nav__link">
        common_types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.profile_resolver/" class="md-nav__link">
        profile_resolver
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.validator_helper/" class="md-nav__link">
        validator_helper
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_2_6" type="checkbox" id="__nav_8_2_2_6" >
      
      <label class="md-nav__link" for="__nav_8_2_2_6">
        models
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="models" data-md-level="4">
        <label class="md-nav__title" for="__nav_8_2_2_6">
          <span class="md-nav__icon md-icon"></span>
          models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.models.interfaces/" class="md-nav__link">
        interfaces
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.models.elements/" class="md-nav__link">
        elements
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.models.actions/" class="md-nav__link">
        actions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.models.plans/" class="md-nav__link">
        plans
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.models.file_content_type/" class="md-nav__link">
        file_content_type
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.base_model/" class="md-nav__link">
        base_model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.duplicates_validator/" class="md-nav__link">
        duplicates_validator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.generators/" class="md-nav__link">
        generators
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.parser/" class="md-nav__link">
        parser
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.all_validator/" class="md-nav__link">
        all_validator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.pipeline/" class="md-nav__link">
        pipeline
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_2_14" type="checkbox" id="__nav_8_2_2_14" >
      
      <label class="md-nav__link" for="__nav_8_2_2_14">
        commands
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="commands" data-md-level="4">
        <label class="md-nav__title" for="__nav_8_2_2_14">
          <span class="md-nav__icon md-icon"></span>
          commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.describe/" class="md-nav__link">
        describe
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.task/" class="md-nav__link">
        task
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.merge/" class="md-nav__link">
        merge
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.cmd_utils/" class="md-nav__link">
        cmd_utils
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.version/" class="md-nav__link">
        version
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.add/" class="md-nav__link">
        add
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.create/" class="md-nav__link">
        create
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_2_14_8" type="checkbox" id="__nav_8_2_2_14_8" >
      
      <label class="md-nav__link" for="__nav_8_2_2_14_8">
        author
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="author" data-md-level="5">
        <label class="md-nav__title" for="__nav_8_2_2_14_8">
          <span class="md-nav__icon md-icon"></span>
          author
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.author.command/" class="md-nav__link">
        command
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.author.docs/" class="md-nav__link">
        docs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.author.consts/" class="md-nav__link">
        consts
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.author.common/" class="md-nav__link">
        common
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.author.ssp/" class="md-nav__link">
        ssp
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.author.headers/" class="md-nav__link">
        headers
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.author.folders/" class="md-nav__link">
        folders
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.replicate/" class="md-nav__link">
        replicate
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.remove/" class="md-nav__link">
        remove
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.command_docs/" class="md-nav__link">
        command_docs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.assemble/" class="md-nav__link">
        assemble
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.href/" class="md-nav__link">
        href
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.validate/" class="md-nav__link">
        validate
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.split/" class="md-nav__link">
        split
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.import_/" class="md-nav__link">
        import_
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.init/" class="md-nav__link">
        init
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.commands.partial_object_validate/" class="md-nav__link">
        partial_object_validate
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.object_factory/" class="md-nav__link">
        object_factory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.repository/" class="md-nav__link">
        repository
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.err/" class="md-nav__link">
        err
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.const/" class="md-nav__link">
        const
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.draw_io/" class="md-nav__link">
        draw_io
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.refs_validator/" class="md-nav__link">
        refs_validator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.markdown_validator/" class="md-nav__link">
        markdown_validator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.validator_factory/" class="md-nav__link">
        validator_factory
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_2_23" type="checkbox" id="__nav_8_2_2_23" >
      
      <label class="md-nav__link" for="__nav_8_2_2_23">
        remote
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="remote" data-md-level="4">
        <label class="md-nav__title" for="__nav_8_2_2_23">
          <span class="md-nav__icon md-icon"></span>
          remote
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.core.remote.cache/" class="md-nav__link">
        cache
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_3" type="checkbox" id="__nav_8_2_3" >
      
      <label class="md-nav__link" for="__nav_8_2_3">
        utils
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="utils" data-md-level="3">
        <label class="md-nav__title" for="__nav_8_2_3">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.utils.log/" class="md-nav__link">
        log
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.utils.load_distributed/" class="md-nav__link">
        load_distributed
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.utils.md_writer/" class="md-nav__link">
        md_writer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.utils.trash/" class="md-nav__link">
        trash
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.utils.fs/" class="md-nav__link">
        fs
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.utils.oscal_helper/" class="md-nav__link">
        oscal_helper
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_4" type="checkbox" id="__nav_8_2_4" >
      
      <label class="md-nav__link" for="__nav_8_2_4">
        oscal
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="oscal" data-md-level="3">
        <label class="md-nav__title" for="__nav_8_2_4">
          <span class="md-nav__icon md-icon"></span>
          oscal
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.oscal.catalog/" class="md-nav__link">
        catalog
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.oscal.poam/" class="md-nav__link">
        poam
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.oscal.profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.oscal.common/" class="md-nav__link">
        common
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.oscal.assessment_results/" class="md-nav__link">
        assessment_results
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.oscal.ssp/" class="md-nav__link">
        ssp
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.oscal.component/" class="md-nav__link">
        component
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.oscal.assessment_plan/" class="md-nav__link">
        assessment_plan
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_5" type="checkbox" id="__nav_8_2_5" >
      
      <label class="md-nav__link" for="__nav_8_2_5">
        transforms
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="transforms" data-md-level="3">
        <label class="md-nav__title" for="__nav_8_2_5">
          <span class="md-nav__icon md-icon"></span>
          transforms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.transforms.transformer_factory/" class="md-nav__link">
        transformer_factory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.transforms.results/" class="md-nav__link">
        results
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.transforms.transformer_singleton/" class="md-nav__link">
        transformer_singleton
      </a>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_5_4" type="checkbox" id="__nav_8_2_5_4" >
      
      <label class="md-nav__link" for="__nav_8_2_5_4">
        utils
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="utils" data-md-level="4">
        <label class="md-nav__title" for="__nav_8_2_5_4">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.transforms.utils.tanium_helper/" class="md-nav__link">
        tanium_helper
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.transforms.utils.osco_helper/" class="md-nav__link">
        osco_helper
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8_2_5_5" type="checkbox" id="__nav_8_2_5_5" >
      
      <label class="md-nav__link" for="__nav_8_2_5_5">
        implementations
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="implementations" data-md-level="4">
        <label class="md-nav__title" for="__nav_8_2_5_5">
          <span class="md-nav__icon md-icon"></span>
          implementations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.transforms.implementations.tanium/" class="md-nav__link">
        tanium
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.transforms.implementations.osco/" class="md-nav__link">
        osco
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../api_reference/trestle.cli/" class="md-nav__link">
        cli
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#purpose" class="md-nav__link">
    Purpose
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#users" class="md-nav__link">
    Users
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scope" class="md-nav__link">
    Scope
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cache-update-behaviour" class="md-nav__link">
    Cache update behaviour.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#types-of-external-references" class="md-nav__link">
    Types of external references.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trestle-cache-dir" class="md-nav__link">
    Trestle cache dir.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supported-protocols-methods" class="md-nav__link">
    Supported protocols / methods
  </a>
  
    <nav class="md-nav" aria-label="Supported protocols / methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-file-system-aka-localhost" class="md-nav__link">
    Local file system (aka localhost)
  </a>
  
    <nav class="md-nav" aria-label="Local file system (aka localhost)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#relative-path-reference-root" class="md-nav__link">
    Relative path reference root
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#https-only" class="md-nav__link">
    HTTPS ONLY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#authentication" class="md-nav__link">
    Authentication:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#specific-domains-over-https" class="md-nav__link">
    Specific domains over https
  </a>
  
    <nav class="md-nav" aria-label="Specific domains over https">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#githubcom-githubenterprisenamecom" class="md-nav__link">
    Github.com / github.enterprisename.com
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sftp" class="md-nav__link">
    SFTP
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#potential-future-supported-methods" class="md-nav__link">
    Potential future supported methods.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/IBM/compliance-trestle/edit/master/docs/specifications/caching_spec.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="trestle-caching-architecture">Trestle caching architecture<a class="headerlink" href="#trestle-caching-architecture" title="Permanent link">¤</a></h1>
<h2 id="purpose">Purpose<a class="headerlink" href="#purpose" title="Permanent link">¤</a></h2>
<p>This document describes the caching strategy and behaviour that is supported by trestle for 3rd party artifacts that are
external to the core repo. A principle that trestle is expected to uphold is that documents, unless the user explicitly
contradicts, are referred to by reference.</p>
<p>For example the user should <em>not</em> be expected to manually copy NIST 800-53 into their working directory (although they may). They would refer to the source document such that integrity is maintained. Given this a caching strategy is required to manage these documents - especially when operating in a CICD world.</p>
<h2 id="users">Users<a class="headerlink" href="#users" title="Permanent link">¤</a></h2>
<p>The scope of this document is for developers. Once implemented additional documentation should be created for end users.</p>
<h2 id="scope">Scope<a class="headerlink" href="#scope" title="Permanent link">¤</a></h2>
<p>This document is only concerned with links which refer to other OSCAL schema objects. External references (say to an xccdf document) are not considered.</p>
<h2 id="cache-update-behaviour">Cache update behaviour.<a class="headerlink" href="#cache-update-behaviour" title="Permanent link">¤</a></h2>
<p>When a user requests an external resource the cache MUST be used unless the user provides a cache update flag <code>--update-cache</code>. If the cache cannot update
the default behaviour of <code>--update-cache</code> is failure. If <code>--update-cache-opportunistic</code> is enabled instead the cache will be updated where possible.</p>
<p>Note: Documents MUST only be committed to the cache if and only if they are valid OSCAL. Note that OSCAL validation in this context is defined ONLY as
meeting the minimum requirements of the json schema.</p>
<h2 id="types-of-external-references">Types of external references.<a class="headerlink" href="#types-of-external-references" title="Permanent link">¤</a></h2>
<p>NIST defines many types of referential links within the OSCAL schema. Here trestle is interested in supporting a subset of these links. In particular these links are characterized specifically by the fact that they refer to 'upstream' OSCAL
artifacts. The table below identifies the references covered by this document.</p>
<table>
<thead>
<tr>
<th>Schema</th>
<th>Json path ( represents array or named keys)</th>
<th>Refers to</th>
</tr>
</thead>
<tbody>
<tr>
<td>profile</td>
<td>profile.imports[*].href</td>
<td>catalog or profile</td>
</tr>
<tr>
<td>SSP</td>
<td>system-security-plan.import-profile.href</td>
<td>profile</td>
</tr>
<tr>
<td>component-definition</td>
<td>component-definition.import-component-definition[*].href</td>
<td>component-definition</td>
</tr>
<tr>
<td>component-definition</td>
<td>component-definition.component[*].control-implementations[*].source</td>
<td>catalog or profile</td>
</tr>
<tr>
<td>target-definition</td>
<td>target-definition.import-target-definition[*].href</td>
<td>target-definition</td>
</tr>
<tr>
<td>target-definition</td>
<td>target-definition.component[*].control-implementations[*].source</td>
<td>catalog or profile</td>
</tr>
<tr>
<td>assessment-plan</td>
<td>assessment-plan.import-ssp.href</td>
<td>ssp</td>
</tr>
<tr>
<td>assessment-results</td>
<td>assessment-results.import-ap.href</td>
<td>assessment-plan</td>
</tr>
</tbody>
</table>
<p>It is worth noting that the profile definition is recursive. In some of the OSCAL schemas these objects are optional. For the purposes of trestle these references are considered mandatory and it is expected that trestle will error if fields
are missing.</p>
<p>In particular while (say as an example) import-ssp is optional in assessment-plan, without it we cannot validate if the control ids provided by the user make sense.</p>
<h2 id="trestle-cache-dir">Trestle cache dir.<a class="headerlink" href="#trestle-cache-dir" title="Permanent link">¤</a></h2>
<p>The trestle cache will be located within the <code>.trestle</code> project. Files are organised within that directory by hostname
irrespective of protocol.</p>
<p>The resulting structure is shown below.</p>
<div class="highlight"><pre><span></span><code>.
├── .trestle
│   └──cache
│       ├── localhost (./ or file)
│       │   ├── __rel__
│       |   |   └── __parent__/__parent__/catalog.json
│       │   └── __abs__
│       |       └── /__root__/home/username/oscal/catalog.jon
│       └── hostname.com
│              └── path/to/file.json
│
|         
├── dist
│   ├── catalogs
│   ├── profiles
│   ├── target-definitions
│   ├── system-security-plans
│   ├── assessment-plans
│   ├── assessment-results
│   └── plan-of-action-and-milestones
├── catalogs
├── profiles
├── target-definitions
├── component-definitions
├── system-security-plans
├── assessment-plans
├── assessment-results
└── plan-of-action-and-milestones
</code></pre></div>
<p>Note that <code>localhost</code> has special treatment to manage relative file references.</p>
<p>The cache <em>MAY</em> live within version control system depending on desired behaviour. It is recommended that caches live
within the VCS to allow end to end tracking. Keeping the cache within the VCS implies that callers of trestle MUST
explicitly ask for the cache to be refreshed if required.</p>
<p>The cache MUST NOT reference files within the current trestle context.</p>
<p>The cache MUST NOT support 'distributed OSCAL files'. All files MUST be a valid OSCAL schema in a single document.</p>
<h2 id="supported-protocols-methods">Supported protocols / methods<a class="headerlink" href="#supported-protocols-methods" title="Permanent link">¤</a></h2>
<h3 id="local-file-system-aka-localhost">Local file system (aka localhost)<a class="headerlink" href="#local-file-system-aka-localhost" title="Permanent link">¤</a></h3>
<p>The local file system MAY be used as a storage mechanism other files. Local storage is unique in that references may be
relative at all times (i.e. it does not make sense to expand the directory path). Given this localhost has two sub directories:</p>
<p><code>__abs__</code> for absolute paths,</p>
<p><code>__rel__</code> for relative paths.</p>
<p>In addition to this relative paths MAY contain <code>../</code> references to the parent directory. This is represented by
<code>__parent__</code> /</p>
<p>Local storage may be referred to by the following mechanisms:</p>
<p><code>file://path/to/file.json</code>  =&gt; <code>.trestle/cache/localhost/__rel__/path/to/file.json</code></p>
<p><code>file:///abspath/to/file.json</code> =&gt; <code>.trestle/cache/localhost/__abs__/abspath/to/file.json</code></p>
<p><code>/root/file/path.json</code> =&gt; <code>.trestle/cache/localhost/__abs__/root/file/path.json</code></p>
<p><code>../relative/path/to/file.json</code> =&gt; <code>.trestle/cache/localhost/__rel__/__parent__/relative/path/to/file.json</code></p>
<p><code>http(s)://localhost/path/to/file.json</code> =&gt; <code>.trestle/cache/localhost/__abs__/path/to/file.json</code></p>
<p>References MUST NOT address the local trestle context. References outside of the local trestle context WILL NOT be tested
for whether they are in the trestle context. For localhost both absolute and relative references are supported. All calls
over http(s) are treated as absolute paths. Authorization / authentication is as in the following section.</p>
<h4 id="relative-path-reference-root">Relative path reference root<a class="headerlink" href="#relative-path-reference-root" title="Permanent link">¤</a></h4>
<p>Relative paths are setup assuming the they are with respect to the editing directory. Relative paths in the <code>dist</code> directory
should be reworked to include <code>dist</code>.</p>
<h3 id="https-only">HTTPS ONLY<a class="headerlink" href="#https-only" title="Permanent link">¤</a></h3>
<p>HTTPS endpoints are supported for trestle. Unencrypted HTTP endpoints are not.</p>
<p>The simplest case is similar to this:
<code>https://sample.com/path/to/file.json</code> =&gt; <code>.trestle/cache/sample.com/path/to/file.json</code></p>
<p>For all workloads the http header application type <em>SHOULD</em> match the file type provided. Trestle <em>MAY</em> warn on inconsistencies,
however, the file extension takes precedence.</p>
<p>For endpoints where an extension is NOT provided
<code>https://sample.com/path/to/file</code>
or
<code>https://sample.com/path/to/file/</code>
Trestle will:</p>
<ol>
<li>Infer file type from http headers</li>
<li>write out the file to object.{filetype} file.</li>
<li>If a user requests <code>https://sample.com/path/to/file/object.json</code> trestle MUST warn the user of the risk of conflicts
   with automatically generated names.</li>
</ol>
<h3 id="authentication">Authentication:<a class="headerlink" href="#authentication" title="Permanent link">¤</a></h3>
<p>As the caching supports HTTPS ONLY, there is support for HTTP basic authentication. Attempting HTTP based authentication MUST cause errors, as would attempting HTTP fetching in any case.</p>
<p>Credentials MUST NOT be stored in cleartext.</p>
<p>NOT ALLOWED: <code>https://username:password@sample.com/path/to/file/</code></p>
<p>Credentials MUST be referred to by moustache templates e.g.:</p>
<p><code>https://{{username_var}}:{{password_var}}@sample.com/path/to/file/</code></p>
<p>where the "moustache" templated variables refer to environmental variables in the user's environment.</p>
<p>Support for non standard behaviour is supported on specific domains (see below).</p>
<h3 id="specific-domains-over-https">Specific domains over https<a class="headerlink" href="#specific-domains-over-https" title="Permanent link">¤</a></h3>
<p>Given the requirement for raw source files users <em>may</em> have issues accurately accessing a resource on many domains for
which they can get the raw form. This is also true on environments where 2-Factor Authentication may protect accessing
user facing sites. Specific site support is expected to expand based on user's requirements.</p>
<h4 id="githubcom-githubenterprisenamecom">Github.com / github.enterprisename.com<a class="headerlink" href="#githubcom-githubenterprisenamecom" title="Permanent link">¤</a></h4>
<p>Support in this section is intended to cover both github.com and github enterprise deployed at github.{business url}.com.</p>
<p>The first scenario is for unauthenticated access. Unauthenticated access may be addressed through either the 'UI' form
URL e.g.:</p>
<p><a href="https://github.com/IBM/compliance-trestle/blob/develop/LICENSE">https://github.com/IBM/compliance-trestle/blob/develop/LICENSE</a></p>
<p>OR</p>
<p>the raw form URL:
<a href="https://raw.githubusercontent.com/IBM/compliance-trestle/develop/LICENSE">https://raw.githubusercontent.com/IBM/compliance-trestle/develop/LICENSE</a></p>
<p>Both URLs would map to the following path in trestle cache:
<code>.trestle/cache/github.com/IBM/compliance-trestle/develop/LICENSE</code></p>
<p>For authenticated scenarios both domains are supported, however, tokens provided to the raw website e.g.:
<a href="https://raw.githubusercontent.com/IBM/compliance-trestle/develop/LICENSE?token=TOKEN">https://raw.githubusercontent.com/IBM/compliance-trestle/develop/LICENSE?token=TOKEN</a></p>
<p>are ignored. Trestle MUST warn users when github tokens are included.</p>
<p>To support authentication with github username / password authentication MUST NOT be supported. API authentication through
personal access tokens is supported. API tokens will be read from the environment with the following patterns:</p>
<p>github.com: <code>GITHUB_API_TOKEN</code></p>
<p>github.business.com: <code>GITHUB_BUSINESS_API_TOKEN</code></p>
<p>In the future <code>ssh</code> based authentication may be supported.</p>
<h3 id="sftp">SFTP<a class="headerlink" href="#sftp" title="Permanent link">¤</a></h3>
<p>SFTP support may be supported. The URI takes the following form:</p>
<p><code>sftp://{{username}}:{{password}}@sftp.com:/path/to/file.json</code>
OR
<code>sftp://username:{{password}}@sftp.com:/path/to/file.json</code>
OR
<code>sftp://username@sftp.com:/path/to/file.json</code></p>
<p>All user provided paths WILL be expanded to the full path. (e.g. if <code>~</code> is used to represent the home directory.) a SSH key
may be provided by environmental variable <code>SSH_KEY</code>.</p>
<h2 id="potential-future-supported-methods">Potential future supported methods.<a class="headerlink" href="#potential-future-supported-methods" title="Permanent link">¤</a></h2>
<p>It is anticipated that some applications may be provided with specialised support from the trestle framework. The current
list being considered includes:</p>
<ul>
<li>git (over https or ssh)</li>
<li>TBA</li>
</ul>
<h2 id="_1"><a class="headerlink" href="#_1" title="Permanent link">¤</a></h2>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.94ec81fe.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.48dfec6c.min.js"></script>
      
    
  </body>
</html>