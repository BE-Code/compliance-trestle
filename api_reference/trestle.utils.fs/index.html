
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for compliance-trestle package.">
      
      
      
        <link rel="canonical" href="https://ibm.github.io/compliance-trestle/api_reference/trestle.utils.fs/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.4">
    
    
      
        <title>fs - Compliance Trestle</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bb3983ee.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XT3KGMHSY8"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&gtag("event","search",{search_term:this.value})}),"undefined"!=typeof location$&&location$.subscribe(function(e){gtag("config","G-XT3KGMHSY8",{page_path:e.pathname})})})</script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XT3KGMHSY8"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#trestle.utils.fs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Compliance Trestle" class="md-header__button md-logo" aria-label="Compliance Trestle" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Compliance Trestle
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              fs
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/IBM/compliance-trestle" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    IBM/compliance-trestle
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Compliance Trestle" class="md-nav__button md-logo" aria-label="Compliance Trestle" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Compliance Trestle
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/IBM/compliance-trestle" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    IBM/compliance-trestle
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Trestle overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../python_trestle_setup/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/trestle_sample_workflow/" class="md-nav__link">
        Intro to trestle workflow
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/continuous-compliance/continuous-compliance/" class="md-nav__link">
        Compliance posture
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/ssp_profile_catalog_authoring/ssp_profile_catalog_authoring/" class="md-nav__link">
        SSP, Catalog, and Profile Authoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/task.transformer-construction/transformer-construction/" class="md-nav__link">
        Transformer construction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/task.cis-to-catalog/transformation/" class="md-nav__link">
        Task - cis-to-catalog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/task.cis-to-component-definition/transformation/" class="md-nav__link">
        Task - cis-to-component-definition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/task.tanuim-to-oscal/transformation/" class="md-nav__link">
        Task - tanium-to-oscal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/work_with_authoring_versions/" class="md-nav__link">
        Work with authoring versions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Trestle command-line interface (CLI)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Trestle command-line interface (CLI)" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Trestle command-line interface (CLI)
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        CLI for OSCAL documents
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trestle_author/" class="md-nav__link">
        CLI for authoring governed content
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../trestle_author_jinja/" class="md-nav__link">
        CLI for jinja template processing
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Contributing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Contributing" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Contributing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../mkdocs_code_of_conduct/" class="md-nav__link">
        Code of Conduct
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/mkdocs_contributing/" class="md-nav__link">
        Contributing overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/IBM/compliance-trestle/graphs/contributors" class="md-nav__link">
        Contributors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../maintainers/" class="md-nav__link">
        Maintainers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/website/" class="md-nav__link">
        Documentation website
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/trestle_oscal_object_model/" class="md-nav__link">
        Trestle's object model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/DCO/" class="md-nav__link">
        Developer Certificate of Originality
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/plugins/" class="md-nav__link">
        Trestle plugin mechanism
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../errors/" class="md-nav__link">
        Known limitations
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../demonstrations-content/" class="md-nav__link">
        Demos
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Plugins
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Plugins" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Plugins
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../plugins/compliance-trestle-fedramp/" class="md-nav__link">
        FedRAMP validation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/third-party-result-schema-SCC/" class="md-nav__link">
        Integrating with IBM SCC
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2" type="checkbox" id="__nav_10_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2">
          trestle API reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="trestle API reference" data-md-level="2">
        <label class="md-nav__title" for="__nav_10_2">
          <span class="md-nav__icon md-icon"></span>
          trestle API reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.cli/" class="md-nav__link">
        cli
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_2" type="checkbox" id="__nav_10_2_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_2">
          core
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="core" data-md-level="3">
        <label class="md-nav__title" for="__nav_10_2_2">
          <span class="md-nav__icon md-icon"></span>
          core
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.all_validator/" class="md-nav__link">
        all_validator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.base_model/" class="md-nav__link">
        base_model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.catalog_interface/" class="md-nav__link">
        catalog_interface
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_2_4" type="checkbox" id="__nav_10_2_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_2_4">
          commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="commands" data-md-level="4">
        <label class="md-nav__title" for="__nav_10_2_2_4">
          <span class="md-nav__icon md-icon"></span>
          commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.add/" class="md-nav__link">
        add
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.assemble/" class="md-nav__link">
        assemble
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_2_4_3" type="checkbox" id="__nav_10_2_2_4_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_2_4_3">
          author
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="author" data-md-level="5">
        <label class="md-nav__title" for="__nav_10_2_2_4_3">
          <span class="md-nav__icon md-icon"></span>
          author
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.catalog/" class="md-nav__link">
        catalog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.command/" class="md-nav__link">
        command
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.common/" class="md-nav__link">
        common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.consts/" class="md-nav__link">
        consts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.docs/" class="md-nav__link">
        docs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.folders/" class="md-nav__link">
        folders
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.headers/" class="md-nav__link">
        headers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.jinja/" class="md-nav__link">
        jinja
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.ssp/" class="md-nav__link">
        ssp
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_2_4_3_11" type="checkbox" id="__nav_10_2_2_4_3_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_2_4_3_11">
          versioning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="versioning" data-md-level="6">
        <label class="md-nav__title" for="__nav_10_2_2_4_3_11">
          <span class="md-nav__icon md-icon"></span>
          versioning
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.author.versioning.template_versioning/" class="md-nav__link">
        template_versioning
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.command_docs/" class="md-nav__link">
        command_docs
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_2_4_5" type="checkbox" id="__nav_10_2_2_4_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_2_4_5">
          common
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="common" data-md-level="5">
        <label class="md-nav__title" for="__nav_10_2_2_4_5">
          <span class="md-nav__icon md-icon"></span>
          common
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.common.cmd_utils/" class="md-nav__link">
        cmd_utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.common.return_codes/" class="md-nav__link">
        return_codes
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.create/" class="md-nav__link">
        create
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.describe/" class="md-nav__link">
        describe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.href/" class="md-nav__link">
        href
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.import_/" class="md-nav__link">
        import_
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.init/" class="md-nav__link">
        init
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.merge/" class="md-nav__link">
        merge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.partial_object_validate/" class="md-nav__link">
        partial_object_validate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.remove/" class="md-nav__link">
        remove
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.replicate/" class="md-nav__link">
        replicate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.split/" class="md-nav__link">
        split
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.task/" class="md-nav__link">
        task
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.transform_oscal/" class="md-nav__link">
        transform_oscal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.validate/" class="md-nav__link">
        validate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.commands.version/" class="md-nav__link">
        version
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.common_types/" class="md-nav__link">
        common_types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.const/" class="md-nav__link">
        const
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.control_io/" class="md-nav__link">
        control_io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.draw_io/" class="md-nav__link">
        draw_io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.duplicates_validator/" class="md-nav__link">
        duplicates_validator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.err/" class="md-nav__link">
        err
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.generators/" class="md-nav__link">
        generators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.jinja/" class="md-nav__link">
        jinja
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_2_13" type="checkbox" id="__nav_10_2_2_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_2_13">
          markdown
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="markdown" data-md-level="4">
        <label class="md-nav__title" for="__nav_10_2_2_13">
          <span class="md-nav__icon md-icon"></span>
          markdown
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.markdown.markdown_api/" class="md-nav__link">
        markdown_api
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.markdown.markdown_const/" class="md-nav__link">
        markdown_const
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.markdown.markdown_node/" class="md-nav__link">
        markdown_node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.markdown.markdown_processor/" class="md-nav__link">
        markdown_processor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.markdown.markdown_validator/" class="md-nav__link">
        markdown_validator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.markdown.md_writer/" class="md-nav__link">
        md_writer
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_2_14" type="checkbox" id="__nav_10_2_2_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_2_14">
          models
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="models" data-md-level="4">
        <label class="md-nav__title" for="__nav_10_2_2_14">
          <span class="md-nav__icon md-icon"></span>
          models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.models.actions/" class="md-nav__link">
        actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.models.elements/" class="md-nav__link">
        elements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.models.file_content_type/" class="md-nav__link">
        file_content_type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.models.interfaces/" class="md-nav__link">
        interfaces
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.models.plans/" class="md-nav__link">
        plans
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.object_factory/" class="md-nav__link">
        object_factory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.oscal_version_validator/" class="md-nav__link">
        oscal_version_validator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.parser/" class="md-nav__link">
        parser
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.pipeline/" class="md-nav__link">
        pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.profile_resolver/" class="md-nav__link">
        profile_resolver
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.refs_validator/" class="md-nav__link">
        refs_validator
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_2_21" type="checkbox" id="__nav_10_2_2_21" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_2_21">
          remote
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="remote" data-md-level="4">
        <label class="md-nav__title" for="__nav_10_2_2_21">
          <span class="md-nav__icon md-icon"></span>
          remote
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.remote.cache/" class="md-nav__link">
        cache
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.repository/" class="md-nav__link">
        repository
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.ssp_io/" class="md-nav__link">
        ssp_io
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.trestle_base_model/" class="md-nav__link">
        trestle_base_model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.utils/" class="md-nav__link">
        utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.validator/" class="md-nav__link">
        validator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.validator_factory/" class="md-nav__link">
        validator_factory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.core.validator_helper/" class="md-nav__link">
        validator_helper
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_3" type="checkbox" id="__nav_10_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_3">
          oscal
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="oscal" data-md-level="3">
        <label class="md-nav__title" for="__nav_10_2_3">
          <span class="md-nav__icon md-icon"></span>
          oscal
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.oscal.assessment_plan/" class="md-nav__link">
        assessment_plan
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.oscal.assessment_results/" class="md-nav__link">
        assessment_results
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.oscal.catalog/" class="md-nav__link">
        catalog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.oscal.common/" class="md-nav__link">
        common
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.oscal.component/" class="md-nav__link">
        component
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.oscal.poam/" class="md-nav__link">
        poam
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.oscal.profile/" class="md-nav__link">
        profile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.oscal.ssp/" class="md-nav__link">
        ssp
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_4" type="checkbox" id="__nav_10_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_4">
          tasks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="tasks" data-md-level="3">
        <label class="md-nav__title" for="__nav_10_2_4">
          <span class="md-nav__icon md-icon"></span>
          tasks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.tasks.base_task/" class="md-nav__link">
        base_task
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.tasks.cis_to_catalog/" class="md-nav__link">
        cis_to_catalog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.tasks.cis_to_component_definition/" class="md-nav__link">
        cis_to_component_definition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.tasks.osco_to_oscal/" class="md-nav__link">
        osco_to_oscal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.tasks.profile_to_osco/" class="md-nav__link">
        profile_to_osco
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.tasks.tanium_to_oscal/" class="md-nav__link">
        tanium_to_oscal
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.tasks.transform/" class="md-nav__link">
        transform
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.tasks.xlsx_to_oscal_component_definition/" class="md-nav__link">
        xlsx_to_oscal_component_definition
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_5" type="checkbox" id="__nav_10_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_5">
          transforms
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="transforms" data-md-level="3">
        <label class="md-nav__title" for="__nav_10_2_5">
          <span class="md-nav__icon md-icon"></span>
          transforms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_5_1" type="checkbox" id="__nav_10_2_5_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_5_1">
          implementations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="implementations" data-md-level="4">
        <label class="md-nav__title" for="__nav_10_2_5_1">
          <span class="md-nav__icon md-icon"></span>
          implementations
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.transforms.implementations.osco/" class="md-nav__link">
        osco
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.transforms.implementations.tanium/" class="md-nav__link">
        tanium
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.transforms.results/" class="md-nav__link">
        results
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.transforms.transformer_factory/" class="md-nav__link">
        transformer_factory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.transforms.transformer_singleton/" class="md-nav__link">
        transformer_singleton
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2_6" type="checkbox" id="__nav_10_2_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_10_2_6">
          utils
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="utils" data-md-level="3">
        <label class="md-nav__title" for="__nav_10_2_6">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          fs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        fs
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#trestle.utils.fs" class="md-nav__link">
    fs
  </a>
  
    <nav class="md-nav" aria-label="fs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.allowed_task_name" class="md-nav__link">
    allowed_task_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.clean_project_sub_path" class="md-nav__link">
    clean_project_sub_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.extract_alias" class="md-nav__link">
    extract_alias()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.full_path_for_top_level_model" class="md-nav__link">
    full_path_for_top_level_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_all_models" class="md-nav__link">
    get_all_models()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_contextual_file_type" class="md-nav__link">
    get_contextual_file_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_models_of_type" class="md-nav__link">
    get_models_of_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_project_model_path" class="md-nav__link">
    get_project_model_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_relative_model_type" class="md-nav__link">
    get_relative_model_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_singular_alias" class="md-nav__link">
    get_singular_alias()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_stripped_model_type" class="md-nav__link">
    get_stripped_model_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_trestle_project_root" class="md-nav__link">
    get_trestle_project_root()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.has_parent_path" class="md-nav__link">
    has_parent_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.is_hidden" class="md-nav__link">
    is_hidden()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.is_symlink" class="md-nav__link">
    is_symlink()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.is_valid_project_model_path" class="md-nav__link">
    is_valid_project_model_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.is_valid_project_root" class="md-nav__link">
    is_valid_project_root()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.iterdir_without_hidden_files" class="md-nav__link">
    iterdir_without_hidden_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.load_file" class="md-nav__link">
    load_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.load_top_level_model" class="md-nav__link">
    load_top_level_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.local_and_visible" class="md-nav__link">
    local_and_visible()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.model_type_to_model_dir" class="md-nav__link">
    model_type_to_model_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.path_for_top_level_model" class="md-nav__link">
    path_for_top_level_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.relative_resolve" class="md-nav__link">
    relative_resolve()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.save_top_level_model" class="md-nav__link">
    save_top_level_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.should_ignore" class="md-nav__link">
    should_ignore()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.utils.load_distributed/" class="md-nav__link">
        load_distributed
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.utils.log/" class="md-nav__link">
        log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.utils.oscal_helper/" class="md-nav__link">
        oscal_helper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trestle.utils.trash/" class="md-nav__link">
        trash
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#trestle.utils.fs" class="md-nav__link">
    fs
  </a>
  
    <nav class="md-nav" aria-label="fs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.allowed_task_name" class="md-nav__link">
    allowed_task_name()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.clean_project_sub_path" class="md-nav__link">
    clean_project_sub_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.extract_alias" class="md-nav__link">
    extract_alias()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.full_path_for_top_level_model" class="md-nav__link">
    full_path_for_top_level_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_all_models" class="md-nav__link">
    get_all_models()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_contextual_file_type" class="md-nav__link">
    get_contextual_file_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_models_of_type" class="md-nav__link">
    get_models_of_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_project_model_path" class="md-nav__link">
    get_project_model_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_relative_model_type" class="md-nav__link">
    get_relative_model_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_singular_alias" class="md-nav__link">
    get_singular_alias()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_stripped_model_type" class="md-nav__link">
    get_stripped_model_type()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.get_trestle_project_root" class="md-nav__link">
    get_trestle_project_root()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.has_parent_path" class="md-nav__link">
    has_parent_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.is_hidden" class="md-nav__link">
    is_hidden()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.is_symlink" class="md-nav__link">
    is_symlink()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.is_valid_project_model_path" class="md-nav__link">
    is_valid_project_model_path()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.is_valid_project_root" class="md-nav__link">
    is_valid_project_root()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.iterdir_without_hidden_files" class="md-nav__link">
    iterdir_without_hidden_files()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.load_file" class="md-nav__link">
    load_file()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.load_top_level_model" class="md-nav__link">
    load_top_level_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.local_and_visible" class="md-nav__link">
    local_and_visible()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.model_type_to_model_dir" class="md-nav__link">
    model_type_to_model_dir()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.path_for_top_level_model" class="md-nav__link">
    path_for_top_level_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.relative_resolve" class="md-nav__link">
    relative_resolve()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.save_top_level_model" class="md-nav__link">
    save_top_level_model()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trestle.utils.fs.should_ignore" class="md-nav__link">
    should_ignore()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                

  <h1>fs</h1>

<div class="doc doc-object doc-module">



<h2 class="doc doc-heading" id="trestle.utils.fs">
        <code>trestle.utils.fs</code>



<a class="headerlink" href="#trestle.utils.fs" title="Permanent link">¤</a></h2>

    <div class="doc doc-contents first">

      <p>Common file system utilities.</p>



  <div class="doc doc-children">






  <div class="doc doc-object doc-attribute">



<h4 class="doc doc-heading" id="trestle.utils.fs.logger">
<code class="highlight language-python"><span class="n">logger</span></code>


<a class="headerlink" href="#trestle.utils.fs.logger" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

    </div>

  </div>



<h3 id="trestle.utils.fs-functions">Functions<a class="headerlink" href="#trestle.utils.fs-functions" title="Permanent link">¤</a></h3>

  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.allowed_task_name">
<code class="highlight language-python"><span class="n">allowed_task_name</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.allowed_task_name" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Determine whether a task, which is a 'non-core-OSCAL activity/directory is allowed.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>the task name which is assumed may take the form of a relative path for task/subtasks.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether the task name is allowed or not allowed (interferes with assumed project directories such as catalogs).</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">allowed_task_name</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Determine whether a task, which is a &#39;non-core-OSCAL activity/directory is allowed.</span>

<span class="sd">    args:</span>
<span class="sd">        name: the task name which is assumed may take the form of a relative path for task/subtasks.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether the task name is allowed or not allowed (interferes with assumed project directories such as catalogs).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Task must not use an OSCAL directory</span>
    <span class="c1"># Task must not self-interfere with a project</span>
    <span class="n">pathed_name</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>

    <span class="n">root_path</span> <span class="o">=</span> <span class="n">pathed_name</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">root_path</span> <span class="ow">in</span> <span class="n">const</span><span class="o">.</span><span class="n">MODEL_TYPE_TO_MODEL_DIR</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Task name is the same as an OSCAL schema name.&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">root_path</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;.&#39;</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Task name must not start with &quot;.&quot;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="n">pathed_name</span><span class="o">.</span><span class="n">suffix</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="c1"># Does it look like a file</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;tasks name must not look like a file path (e.g. contain a suffix&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">if</span> <span class="s1">&#39;__global__&#39;</span> <span class="ow">in</span> <span class="n">pathed_name</span><span class="o">.</span><span class="n">parts</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Task name cannot contain __global__&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.clean_project_sub_path">
<code class="highlight language-python"><span class="n">clean_project_sub_path</span><span class="p">(</span><span class="n">sub_path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.clean_project_sub_path" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Clean all directories and files in a project top level subdir.</p>
<p>It ensures the sub_path is a child path in the project root.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">clean_project_sub_path</span><span class="p">(</span><span class="n">sub_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Clean all directories and files in a project top level subdir.</span>

<span class="sd">    It ensures the sub_path is a child path in the project root.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">sub_path</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="n">sub_path</span> <span class="o">=</span> <span class="n">sub_path</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
        <span class="n">project_root</span> <span class="o">=</span> <span class="n">sub_path</span><span class="o">.</span><span class="n">parent</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">get_trestle_project_root</span><span class="p">(</span><span class="n">project_root</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TrestleError</span><span class="p">(</span><span class="s1">&#39;Path to be cleaned is not a under valid Trestle project root&#39;</span><span class="p">)</span>

        <span class="c1"># clean all files/directories under sub_path</span>
        <span class="k">if</span> <span class="n">sub_path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">iterdir</span><span class="p">(</span><span class="n">sub_path</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                    <span class="n">item</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
                <span class="k">elif</span> <span class="n">item</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
                    <span class="n">clean_project_sub_path</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
            <span class="n">sub_path</span><span class="o">.</span><span class="n">rmdir</span><span class="p">()</span>
        <span class="c1"># delete the sub_path</span>
        <span class="k">elif</span> <span class="n">sub_path</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="n">sub_path</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.extract_alias">
<code class="highlight language-python"><span class="n">extract_alias</span><span class="p">(</span><span class="n">string_dir</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.extract_alias" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Extract alias from filename or directory name removing extensions and prefixes related to dict and list.</p>
<p>As we need to do this for multiple parts of a path operating on strings is easier.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">extract_alias</span><span class="p">(</span><span class="n">string_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract alias from filename or directory name removing extensions and prefixes related to dict and list.</span>

<span class="sd">    As we need to do this for multiple parts of a path operating on strings is easier.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">alias</span> <span class="o">=</span> <span class="n">string_dir</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">IDX_SEP</span>
                                           <span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># get suffix of file or directory name representing list or dict item</span>
    <span class="k">return</span> <span class="n">alias</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.full_path_for_top_level_model">
<code class="highlight language-python"><span class="n">full_path_for_top_level_model</span><span class="p">(</span><span class="n">trestle_root</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">model_class</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.full_path_for_top_level_model" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Find the full path of an existing model given its name and model type but no file content type.</p>
<p>Use this method when you need the path of a model but you don't know the file content type.
This method should only be called if the model needs to exist already in the trestle directory.
If you do know the file content type, use path_for_top_level_model instead.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">full_path_for_top_level_model</span><span class="p">(</span>
    <span class="n">trestle_root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">model_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">TopLevelOscalModel</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Find the full path of an existing model given its name and model type but no file content type.</span>

<span class="sd">    Use this method when you need the path of a model but you don&#39;t know the file content type.</span>
<span class="sd">    This method should only be called if the model needs to exist already in the trestle directory.</span>
<span class="sd">    If you do know the file content type, use path_for_top_level_model instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">root_model_path</span> <span class="o">=</span> <span class="n">_root_path_for_top_level_model</span><span class="p">(</span><span class="n">trestle_root</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">model_class</span><span class="p">)</span>
    <span class="n">file_content_type</span> <span class="o">=</span> <span class="n">FileContentType</span><span class="o">.</span><span class="n">path_to_content_type</span><span class="p">(</span><span class="n">root_model_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">FileContentType</span><span class="o">.</span><span class="n">is_readable_file</span><span class="p">(</span><span class="n">file_content_type</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unable to load model </span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1"> as json or yaml.&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">root_model_path</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="n">FileContentType</span><span class="o">.</span><span class="n">to_file_extension</span><span class="p">(</span><span class="n">file_content_type</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.get_all_models">
<code class="highlight language-python"><span class="n">get_all_models</span><span class="p">(</span><span class="n">root</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.get_all_models" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Get list of all models in trestle directory as tuples (model_type, model_name).</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_models</span><span class="p">(</span><span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Get list of all models in trestle directory as tuples (model_type, model_name).&quot;&quot;&quot;</span>
    <span class="n">full_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">model_type</span> <span class="ow">in</span> <span class="n">const</span><span class="o">.</span><span class="n">MODEL_TYPE_LIST</span><span class="p">:</span>
        <span class="n">models</span> <span class="o">=</span> <span class="n">get_models_of_type</span><span class="p">(</span><span class="n">model_type</span><span class="p">,</span> <span class="n">root</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">models</span><span class="p">:</span>
            <span class="n">full_list</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">model_type</span><span class="p">,</span> <span class="n">m</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">full_list</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.get_contextual_file_type">
<code class="highlight language-python"><span class="n">get_contextual_file_type</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.get_contextual_file_type" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Return the file content type for files in the given directory, if it's a trestle project.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_contextual_file_type</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FileContentType</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Return the file content type for files in the given directory, if it&#39;s a trestle project.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid_project_model_path</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">err</span><span class="o">.</span><span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Trestle project not found at path </span><span class="si">{</span><span class="n">path</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">file_or_directory</span> <span class="ow">in</span> <span class="n">iterdir_without_hidden_files</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">file_or_directory</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">FileContentType</span><span class="o">.</span><span class="n">to_content_type</span><span class="p">(</span><span class="n">file_or_directory</span><span class="o">.</span><span class="n">suffix</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">file_or_directory</span> <span class="ow">in</span> <span class="n">path</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">file_or_directory</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
            <span class="k">return</span> <span class="n">get_contextual_file_type</span><span class="p">(</span><span class="n">file_or_directory</span><span class="p">)</span>

    <span class="k">raise</span> <span class="n">err</span><span class="o">.</span><span class="n">TrestleError</span><span class="p">(</span><span class="s1">&#39;No files found in the project.&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.get_models_of_type">
<code class="highlight language-python"><span class="n">get_models_of_type</span><span class="p">(</span><span class="n">model_type</span><span class="p">,</span> <span class="n">root</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.get_models_of_type" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Get list of model names for requested type in trestle directory.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_models_of_type</span><span class="p">(</span><span class="n">model_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get list of model names for requested type in trestle directory.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">model_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">const</span><span class="o">.</span><span class="n">MODEL_TYPE_LIST</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">err</span><span class="o">.</span><span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Model type </span><span class="si">{</span><span class="n">model_type</span><span class="si">}</span><span class="s1"> is not supported&#39;</span><span class="p">)</span>
    <span class="c1"># search relative to project root</span>
    <span class="n">trestle_root</span> <span class="o">=</span> <span class="n">get_trestle_project_root</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">trestle_root</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Given directory </span><span class="si">{</span><span class="n">root</span><span class="si">}</span><span class="s1"> is not within a trestle project.&#39;</span><span class="p">)</span>
        <span class="k">raise</span> <span class="n">err</span><span class="o">.</span><span class="n">TrestleError</span><span class="p">(</span><span class="s1">&#39;Given directory is not within a trestle project.&#39;</span><span class="p">)</span>

    <span class="c1"># contruct path to the model file name</span>
    <span class="n">model_dir_name</span> <span class="o">=</span> <span class="n">model_type_to_model_dir</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
    <span class="n">root_model_dir</span> <span class="o">=</span> <span class="n">trestle_root</span> <span class="o">/</span> <span class="n">model_dir_name</span>
    <span class="n">model_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">root_model_dir</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*/&#39;</span><span class="p">):</span>
        <span class="c1"># only look for proper json and yaml files</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">should_ignore</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">stem</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">f</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s1">&#39;Ignoring validation of misplaced file </span><span class="si">{</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> &#39;</span>
                    <span class="o">+</span> <span class="sa">f</span><span class="s1">&#39;found in the model directory, </span><span class="si">{</span><span class="n">model_dir_name</span><span class="si">}</span><span class="s1">.&#39;</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">model_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">stem</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">model_list</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.get_project_model_path">
<code class="highlight language-python"><span class="n">get_project_model_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.get_project_model_path" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Get the base path of the trestle model project.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_project_model_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get the base path of the trestle model project.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">parts</span><span class="p">)):</span>
            <span class="n">current</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">joinpath</span><span class="p">(</span><span class="o">*</span><span class="n">path</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">is_valid_project_model_path</span><span class="p">(</span><span class="n">current</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">current</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.get_relative_model_type">
<code class="highlight language-python"><span class="n">get_relative_model_type</span><span class="p">(</span><span class="n">relative_path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.get_relative_model_type" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Given the relative path of a file with respect to 'trestle_root' return the oscal model type.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>relative_path</code></td>
        <td><code>Path</code></td>
        <td><p>Relative path of the model of interest with respect to the root directory of the trestle project.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Tuple[Type[trestle.core.base_model.OscalBaseModel], str]</code></td>
      <td><p>Type of Oscal Model for the provided model
Alias of that oscal model.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_relative_model_type</span><span class="p">(</span><span class="n">relative_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">OscalBaseModel</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given the relative path of a file with respect to &#39;trestle_root&#39; return the oscal model type.</span>

<span class="sd">    Args:</span>
<span class="sd">        relative_path: Relative path of the model of interest with respect to the root directory of the trestle project.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Type of Oscal Model for the provided model</span>
<span class="sd">        Alias of that oscal model.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">relative_path</span><span class="o">.</span><span class="n">parts</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TrestleError</span><span class="p">(</span><span class="s1">&#39;Insufficient path length to be a valid relative path w.r.t Trestle project root directory.&#39;</span><span class="p">)</span>
    <span class="n">model_dir</span> <span class="o">=</span> <span class="n">relative_path</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">model_relative_path</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="o">*</span><span class="n">relative_path</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>  <span class="c1"># catalogs, profiles, etc</span>

    <span class="k">if</span> <span class="n">model_dir</span> <span class="ow">in</span> <span class="n">const</span><span class="o">.</span><span class="n">MODEL_DIR_LIST</span><span class="p">:</span>
        <span class="n">module_name</span> <span class="o">=</span> <span class="n">const</span><span class="o">.</span><span class="n">MODEL_DIR_TO_MODEL_MODULE</span><span class="p">[</span><span class="n">model_dir</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;No valid trestle model type directory (e.g. catalogs) found for </span><span class="si">{</span><span class="n">model_dir</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>

    <span class="n">model_type</span><span class="p">,</span> <span class="n">model_alias</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_root_model</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
    <span class="n">full_alias</span> <span class="o">=</span> <span class="n">model_alias</span>

    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">part</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">model_relative_path</span><span class="o">.</span><span class="n">parts</span><span class="p">):</span>
        <span class="n">alias</span> <span class="o">=</span> <span class="n">extract_alias</span><span class="p">(</span><span class="n">part</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">model_alias</span> <span class="o">!=</span> <span class="n">alias</span><span class="p">:</span>
            <span class="n">model_alias</span> <span class="o">=</span> <span class="n">alias</span>
            <span class="n">full_alias</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">full_alias</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">model_alias</span><span class="si">}</span><span class="s1">&#39;</span>
            <span class="k">if</span> <span class="n">utils</span><span class="o">.</span><span class="n">is_collection_field_type</span><span class="p">(</span><span class="n">model_type</span><span class="p">):</span>
                <span class="n">model_type</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_inner_type</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">model_type</span> <span class="o">=</span> <span class="n">model_type</span><span class="o">.</span><span class="n">alias_to_field_map</span><span class="p">()[</span><span class="n">alias</span><span class="p">]</span><span class="o">.</span><span class="n">outer_type_</span>

    <span class="k">return</span> <span class="n">model_type</span><span class="p">,</span> <span class="n">full_alias</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.get_singular_alias">
<code class="highlight language-python"><span class="n">get_singular_alias</span><span class="p">(</span><span class="n">alias_path</span><span class="p">,</span> <span class="n">relative_path</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.get_singular_alias" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Get the alias in the singular form from a jsonpath.</p>
<p>If contextual_mode is True and contextual_path is None, it assumes alias_path is relative to the directory the user
is running trestle from.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>alias_path</code></td>
        <td><code>str</code></td>
        <td><p>The current alias element path as a string</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>relative_path</code></td>
        <td><code>Optional[pathlib.Path]</code></td>
        <td><p>Optional relative path (w.r.t. trestle_root) to cater for relative element paths.</p></td>
        <td><code>None</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>str</code></td>
      <td><p>Alias as a string</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_singular_alias</span><span class="p">(</span><span class="n">alias_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">relative_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the alias in the singular form from a jsonpath.</span>

<span class="sd">    If contextual_mode is True and contextual_path is None, it assumes alias_path is relative to the directory the user</span>
<span class="sd">    is running trestle from.</span>

<span class="sd">    Args:</span>
<span class="sd">        alias_path: The current alias element path as a string</span>
<span class="sd">        relative_path: Optional relative path (w.r.t. trestle_root) to cater for relative element paths.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Alias as a string</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">alias_path</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">err</span><span class="o">.</span><span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid jsonpath </span><span class="si">{</span><span class="n">alias_path</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">singular_alias</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

    <span class="n">full_alias_path</span> <span class="o">=</span> <span class="n">alias_path</span>
    <span class="k">if</span> <span class="n">relative_path</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;get_singular_alias contextual mode: </span><span class="si">{</span><span class="nb">str</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">_</span><span class="p">,</span> <span class="n">full_model_alias</span> <span class="o">=</span> <span class="n">get_relative_model_type</span><span class="p">(</span><span class="n">relative_path</span><span class="p">)</span>
        <span class="n">first_alias_a</span> <span class="o">=</span> <span class="n">full_model_alias</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">first_alias_b</span> <span class="o">=</span> <span class="n">alias_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">first_alias_a</span> <span class="o">==</span> <span class="n">first_alias_b</span><span class="p">:</span>
            <span class="n">full_model_alias</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">full_model_alias</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">full_alias_path</span> <span class="o">=</span> <span class="s1">&#39;.&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">full_model_alias</span><span class="p">,</span> <span class="n">alias_path</span><span class="p">])</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>

    <span class="n">path_parts</span> <span class="o">=</span> <span class="n">full_alias_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">const</span><span class="o">.</span><span class="n">ALIAS_PATH_SEPARATOR</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;path parts: </span><span class="si">{</span><span class="n">path_parts</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">model_types</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">root_model_alias</span> <span class="o">=</span> <span class="n">path_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="n">const</span><span class="o">.</span><span class="n">MODEL_TYPE_TO_MODEL_MODULE</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">model_type</span><span class="p">,</span> <span class="n">model_alias</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_root_model</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">root_model_alias</span> <span class="o">==</span> <span class="n">model_alias</span><span class="p">:</span>
            <span class="n">found</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">model_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
            <span class="k">break</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">err</span><span class="o">.</span><span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">root_model_alias</span><span class="si">}</span><span class="s1"> is an invalid root model alias.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_parts</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">root_model_alias</span>

    <span class="n">model_type</span> <span class="o">=</span> <span class="n">model_types</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="c1"># go through path parts skipping first one</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_parts</span><span class="p">)):</span>
        <span class="k">if</span> <span class="n">utils</span><span class="o">.</span><span class="n">is_collection_field_type</span><span class="p">(</span><span class="n">model_type</span><span class="p">):</span>
            <span class="c1"># if it is a collection type and last part is * then break</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_parts</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">path_parts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="c1"># otherwise get the inner type of items in the collection</span>
            <span class="n">model_type</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_inner_type</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>
            <span class="c1"># and bump i</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">path_part</span> <span class="o">=</span> <span class="n">path_parts</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">field_map</span> <span class="o">=</span> <span class="n">model_type</span><span class="o">.</span><span class="n">alias_to_field_map</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">path_part</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">field_map</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">field</span> <span class="o">=</span> <span class="n">field_map</span><span class="p">[</span><span class="n">path_part</span><span class="p">]</span>
            <span class="n">model_type</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">outer_type_</span>
        <span class="n">model_types</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span>

    <span class="n">last_alias</span> <span class="o">=</span> <span class="n">path_parts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">last_alias</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
        <span class="n">last_alias</span> <span class="o">=</span> <span class="n">path_parts</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

    <span class="c1"># generic model and not list, so return itself fixme doc</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">utils</span><span class="o">.</span><span class="n">is_collection_field_type</span><span class="p">(</span><span class="n">model_type</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">last_alias</span>

    <span class="n">parent_model_type</span> <span class="o">=</span> <span class="n">model_types</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">field_map</span> <span class="o">=</span> <span class="n">parent_model_type</span><span class="o">.</span><span class="n">alias_to_field_map</span><span class="p">()</span>
        <span class="n">field</span> <span class="o">=</span> <span class="n">field_map</span><span class="p">[</span><span class="n">last_alias</span><span class="p">]</span>
        <span class="n">outer_type</span> <span class="o">=</span> <span class="n">field</span><span class="o">.</span><span class="n">outer_type_</span>
        <span class="n">inner_type</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_inner_type</span><span class="p">(</span><span class="n">outer_type</span><span class="p">)</span>
        <span class="n">inner_type_name</span> <span class="o">=</span> <span class="n">inner_type</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="n">singular_alias</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">classname_to_alias</span><span class="p">(</span><span class="n">inner_type_name</span><span class="p">,</span> <span class="s1">&#39;json&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">err</span><span class="o">.</span><span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in json path </span><span class="si">{</span><span class="n">alias_path</span><span class="si">}</span><span class="s1">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">singular_alias</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.get_stripped_model_type">
<code class="highlight language-python"><span class="n">get_stripped_model_type</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">absolute_trestle_root</span><span class="p">,</span> <span class="n">aliases_not_to_be_stripped</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.get_stripped_model_type" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Get the stripped contextual model class and alias based on the contextual path.</p>
<p>This function relies on the directory structure of the trestle model being edited to determine, based on the
existing files and folder, which fields should be stripped from the model type represented by the path passed in as
a parameter.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_stripped_model_type</span><span class="p">(</span>
    <span class="n">absolute_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
    <span class="n">absolute_trestle_root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
    <span class="n">aliases_not_to_be_stripped</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">Type</span><span class="p">[</span><span class="n">OscalBaseModel</span><span class="p">],</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the stripped contextual model class and alias based on the contextual path.</span>

<span class="sd">    This function relies on the directory structure of the trestle model being edited to determine, based on the</span>
<span class="sd">    existing files and folder, which fields should be stripped from the model type represented by the path passed in as</span>
<span class="sd">    a parameter.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">aliases_not_to_be_stripped</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">aliases_not_to_be_stripped</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">singular_model_type</span><span class="p">,</span> <span class="n">model_alias</span> <span class="o">=</span> <span class="n">get_relative_model_type</span><span class="p">(</span><span class="n">absolute_path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">absolute_trestle_root</span><span class="p">))</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;singular model type </span><span class="si">{</span><span class="n">singular_model_type</span><span class="si">}</span><span class="s1"> model alias </span><span class="si">{</span><span class="n">model_alias</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Stripped models do not apply to collection types such as List[] and Dict{}</span>
    <span class="c1"># if model type is a list or dict, generate a new wrapping model for it</span>
    <span class="k">if</span> <span class="n">utils</span><span class="o">.</span><span class="n">is_collection_field_type</span><span class="p">(</span><span class="n">singular_model_type</span><span class="p">):</span>
        <span class="n">malias</span> <span class="o">=</span> <span class="n">model_alias</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">class_name</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">alias_to_classname</span><span class="p">(</span><span class="n">malias</span><span class="p">,</span> <span class="s1">&#39;json&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;collection field type class name </span><span class="si">{</span><span class="n">class_name</span><span class="si">}</span><span class="s1"> and alias </span><span class="si">{</span><span class="n">malias</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">model_type</span> <span class="o">=</span> <span class="n">create_model</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">__base__</span><span class="o">=</span><span class="n">OscalBaseModel</span><span class="p">,</span> <span class="n">__root__</span><span class="o">=</span><span class="p">(</span><span class="n">singular_model_type</span><span class="p">,</span> <span class="o">...</span><span class="p">))</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;model_type created: </span><span class="si">{</span><span class="n">model_type</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">model_type</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="n">Type</span><span class="p">[</span><span class="n">OscalBaseModel</span><span class="p">],</span> <span class="n">model_type</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">model_type</span><span class="p">,</span> <span class="n">model_alias</span>

    <span class="n">malias</span> <span class="o">=</span> <span class="n">model_alias</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;not collection field type, malias: </span><span class="si">{</span><span class="n">malias</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">absolute_path</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span> <span class="ow">and</span> <span class="n">malias</span> <span class="o">!=</span> <span class="n">extract_alias</span><span class="p">(</span><span class="n">absolute_path</span><span class="o">.</span><span class="n">name</span><span class="p">):</span>
        <span class="n">split_subdir</span> <span class="o">=</span> <span class="n">absolute_path</span> <span class="o">/</span> <span class="n">malias</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">split_subdir</span> <span class="o">=</span> <span class="n">absolute_path</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="n">absolute_path</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>

    <span class="n">aliases_to_be_stripped</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">split_subdir</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">iterdir_without_hidden_files</span><span class="p">(</span><span class="n">split_subdir</span><span class="p">):</span>
            <span class="n">alias</span> <span class="o">=</span> <span class="n">extract_alias</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">alias</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">aliases_not_to_be_stripped</span><span class="p">:</span>
                <span class="n">aliases_to_be_stripped</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alias</span><span class="p">)</span>

    <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;aliases to be stripped: </span><span class="si">{</span><span class="n">aliases_to_be_stripped</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">aliases_to_be_stripped</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">model_type</span> <span class="o">=</span> <span class="n">singular_model_type</span><span class="o">.</span><span class="n">create_stripped_model_type</span><span class="p">(</span>
            <span class="n">stripped_fields_aliases</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">aliases_to_be_stripped</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;model_type: </span><span class="si">{</span><span class="n">model_type</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">model_type</span><span class="p">,</span> <span class="n">model_alias</span>
    <span class="k">return</span> <span class="n">singular_model_type</span><span class="p">,</span> <span class="n">model_alias</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.get_trestle_project_root">
<code class="highlight language-python"><span class="n">get_trestle_project_root</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.get_trestle_project_root" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Get the trestle project root folder in the path.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_trestle_project_root</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Get the trestle project root folder in the path.&quot;&quot;&quot;</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">parts</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># it must not be the system root directory</span>
        <span class="k">if</span> <span class="n">is_valid_project_root</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">path</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">parent</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.has_parent_path">
<code class="highlight language-python"><span class="n">has_parent_path</span><span class="p">(</span><span class="n">sub_path</span><span class="p">,</span> <span class="n">parent_path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.has_parent_path" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Check if sub_path has the specified parent_dir path.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">has_parent_path</span><span class="p">(</span><span class="n">sub_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">parent_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if sub_path has the specified parent_dir path.&quot;&quot;&quot;</span>
    <span class="c1"># sub_path should be longer than parent path</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sub_path</span><span class="o">.</span><span class="n">parts</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent_path</span><span class="o">.</span><span class="n">parts</span><span class="p">):</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">part</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">parent_path</span><span class="o">.</span><span class="n">parts</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">part</span> <span class="o">!=</span> <span class="n">sub_path</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.is_hidden">
<code class="highlight language-python"><span class="n">is_hidden</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.is_hidden" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Determine whether a file is hidden based on the appropriate os attributes.</p>
<p>This function will only work for the current file path only (e.g. not if a parent is hidden).</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>file_path</code></td>
        <td><code>Path</code></td>
        <td><p>The file path for which we are testing whether the file / directory is hidden.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>bool</code></td>
      <td><p>Whether or not the file is file/directory is hidden.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_hidden</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Determine whether a file is hidden based on the appropriate os attributes.</span>

<span class="sd">    This function will only work for the current file path only (e.g. not if a parent is hidden).</span>

<span class="sd">    Args:</span>
<span class="sd">        file_path: The file path for which we are testing whether the file / directory is hidden.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Whether or not the file is file/directory is hidden.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Handle windows</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;nt&#39;</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
        <span class="n">attribute</span> <span class="o">=</span> <span class="n">win32api</span><span class="o">.</span><span class="n">GetFileAttributes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">attribute</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">win32con</span><span class="o">.</span><span class="n">FILE_ATTRIBUTE_HIDDEN</span> <span class="o">|</span> <span class="n">win32con</span><span class="o">.</span><span class="n">FILE_ATTRIBUTE_SYSTEM</span><span class="p">)</span>
    <span class="c1"># Handle unix</span>
    <span class="k">return</span> <span class="n">file_path</span><span class="o">.</span><span class="n">stem</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.is_symlink">
<code class="highlight language-python"><span class="n">is_symlink</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.is_symlink" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Is the file path a symlink.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_symlink</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Is the file path a symlink.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;nt&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">file_path</span><span class="o">.</span><span class="n">suffix</span> <span class="o">==</span> <span class="s1">&#39;.lnk&#39;</span>
    <span class="k">return</span> <span class="n">file_path</span><span class="o">.</span><span class="n">is_symlink</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.is_valid_project_model_path">
<code class="highlight language-python"><span class="n">is_valid_project_model_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.is_valid_project_model_path" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Check if the file/directory path is a valid trestle model project.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_valid_project_model_path</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if the file/directory path is a valid trestle model project.&quot;&quot;&quot;</span>
    <span class="n">root_path</span> <span class="o">=</span> <span class="n">get_trestle_project_root</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">root_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="n">relative_path</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">root_path</span><span class="p">))</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">relative_path</span><span class="o">.</span><span class="n">parts</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="ow">or</span> <span class="n">relative_path</span><span class="o">.</span><span class="n">parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">const</span><span class="o">.</span><span class="n">MODEL_DIR_LIST</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.is_valid_project_root">
<code class="highlight language-python"><span class="n">is_valid_project_root</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.is_valid_project_root" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Check if the path is a valid trestle project root.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">is_valid_project_root</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if the path is a valid trestle project root.&quot;&quot;&quot;</span>
    <span class="n">trestle_dir</span> <span class="o">=</span> <span class="n">path</span> <span class="o">/</span> <span class="n">const</span><span class="o">.</span><span class="n">TRESTLE_CONFIG_DIR</span>
    <span class="k">return</span> <span class="n">trestle_dir</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span> <span class="ow">and</span> <span class="n">trestle_dir</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.iterdir_without_hidden_files">
<code class="highlight language-python"><span class="n">iterdir_without_hidden_files</span><span class="p">(</span><span class="n">directory_path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.iterdir_without_hidden_files" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Get iterator over all paths in the given directory_path excluding hidden files.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>directory_path</code></td>
        <td><code>Path</code></td>
        <td><p>The directory to iterate through.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>Iterable[pathlib.Path]</code></td>
      <td><p>Iterator over the files in the directory excluding hidden files.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">iterdir_without_hidden_files</span><span class="p">(</span><span class="n">directory_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get iterator over all paths in the given directory_path excluding hidden files.</span>

<span class="sd">    Args:</span>
<span class="sd">        directory_path: The directory to iterate through.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Iterator over the files in the directory excluding hidden files.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">filtered_paths</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="ow">not</span> <span class="n">is_hidden</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="ow">or</span> <span class="n">p</span><span class="o">.</span><span class="n">is_dir</span><span class="p">(),</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="o">.</span><span class="n">iterdir</span><span class="p">(</span><span class="n">directory_path</span><span class="p">)))</span>

    <span class="k">return</span> <span class="n">filtered_paths</span><span class="o">.</span><span class="fm">__iter__</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.load_file">
<code class="highlight language-python"><span class="n">load_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.load_file" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Load JSON or YAML file content into a dict.</p>
<p>This is not intended to be the default load mechanism. It should only be used
if a OSCAL object type is unknown but the context a user is in.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_file</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load JSON or YAML file content into a dict.</span>

<span class="sd">    This is not intended to be the default load mechanism. It should only be used</span>
<span class="sd">    if a OSCAL object type is unknown but the context a user is in.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">content_type</span> <span class="o">=</span> <span class="n">FileContentType</span><span class="o">.</span><span class="n">to_content_type</span><span class="p">(</span><span class="n">file_path</span><span class="o">.</span><span class="n">suffix</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">file_path</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="n">const</span><span class="o">.</span><span class="n">FILE_ENCODING</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">content_type</span> <span class="o">==</span> <span class="n">FileContentType</span><span class="o">.</span><span class="n">YAML</span><span class="p">:</span>
            <span class="n">yaml</span> <span class="o">=</span> <span class="n">YAML</span><span class="p">(</span><span class="n">typ</span><span class="o">=</span><span class="s1">&#39;safe&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">content_type</span> <span class="o">==</span> <span class="n">FileContentType</span><span class="o">.</span><span class="n">JSON</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.load_top_level_model">
<code class="highlight language-python"><span class="n">load_top_level_model</span><span class="p">(</span><span class="n">trestle_root</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">model_class</span><span class="p">,</span> <span class="n">file_content_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.load_top_level_model" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Load a model by name and model class and infer file content type if not specified.</p>
<p>If you need to load an existing model but its content type may not be known, use this method.
But the file content type should be specified if it is somehow known.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">load_top_level_model</span><span class="p">(</span>
    <span class="n">trestle_root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">model_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">TopLevelOscalModel</span><span class="p">],</span>
    <span class="n">file_content_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">FileContentType</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">TopLevelOscalModel</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;Load a model by name and model class and infer file content type if not specified.</span>

<span class="sd">    If you need to load an existing model but its content type may not be known, use this method.</span>
<span class="sd">    But the file content type should be specified if it is somehow known.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">root_model_path</span> <span class="o">=</span> <span class="n">_root_path_for_top_level_model</span><span class="p">(</span><span class="n">trestle_root</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">model_class</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">file_content_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">file_content_type</span> <span class="o">=</span> <span class="n">FileContentType</span><span class="o">.</span><span class="n">path_to_content_type</span><span class="p">(</span><span class="n">root_model_path</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">FileContentType</span><span class="o">.</span><span class="n">is_readable_file</span><span class="p">(</span><span class="n">file_content_type</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Unable to load model </span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1"> without specifying json or yaml.&#39;</span><span class="p">)</span>
    <span class="n">full_model_path</span> <span class="o">=</span> <span class="n">root_model_path</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="n">FileContentType</span><span class="o">.</span><span class="n">to_file_extension</span><span class="p">(</span><span class="n">file_content_type</span><span class="p">))</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">model</span> <span class="o">=</span> <span class="n">load_distributed</span><span class="p">(</span><span class="n">full_model_path</span><span class="p">,</span> <span class="n">trestle_root</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">model</span><span class="p">,</span> <span class="n">full_model_path</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.local_and_visible">
<code class="highlight language-python"><span class="n">local_and_visible</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.local_and_visible" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Is the file or dir local (not a symlink) and not hidden.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">local_and_visible</span><span class="p">(</span><span class="n">file_path</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Is the file or dir local (not a symlink) and not hidden.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="ow">not</span> <span class="p">(</span><span class="n">is_hidden</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="ow">or</span> <span class="n">is_symlink</span><span class="p">(</span><span class="n">file_path</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.model_type_to_model_dir">
<code class="highlight language-python"><span class="n">model_type_to_model_dir</span><span class="p">(</span><span class="n">model_type</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.model_type_to_model_dir" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Get plural model directory from model type.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">model_type_to_model_dir</span><span class="p">(</span><span class="n">model_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Get plural model directory from model type.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">model_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">const</span><span class="o">.</span><span class="n">MODEL_TYPE_LIST</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">err</span><span class="o">.</span><span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Not a valid model type: </span><span class="si">{</span><span class="n">model_type</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">const</span><span class="o">.</span><span class="n">MODEL_TYPE_TO_MODEL_DIR</span><span class="p">[</span><span class="n">model_type</span><span class="p">]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.path_for_top_level_model">
<code class="highlight language-python"><span class="n">path_for_top_level_model</span><span class="p">(</span><span class="n">trestle_root</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">model_class</span><span class="p">,</span> <span class="n">file_content_type</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.path_for_top_level_model" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Find the full path of a model given its name, model type and file content type.</p>
<p>This does not inspect the file system or confirm the needed path and file exists.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">path_for_top_level_model</span><span class="p">(</span>
    <span class="n">trestle_root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span>
    <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">model_class</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">TopLevelOscalModel</span><span class="p">],</span>
    <span class="n">file_content_type</span><span class="p">:</span> <span class="n">FileContentType</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Find the full path of a model given its name, model type and file content type.</span>

<span class="sd">    This does not inspect the file system or confirm the needed path and file exists.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">root_path</span> <span class="o">=</span> <span class="n">_root_path_for_top_level_model</span><span class="p">(</span><span class="n">trestle_root</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">model_class</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">root_path</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="n">FileContentType</span><span class="o">.</span><span class="n">to_file_extension</span><span class="p">(</span><span class="n">file_content_type</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.relative_resolve">
<code class="highlight language-python"><span class="n">relative_resolve</span><span class="p">(</span><span class="n">candidate</span><span class="p">,</span> <span class="n">cwd</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.relative_resolve" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Resolve a candidate file path relative to a provided cwd.</p>
<p>This is to circumvent bad behaviour for resolve on windows platforms where the path must exist.</p>
<p>If a relative dir is passed it presumes the directory is relative to the PROVIDED cwd.
If relative expansions exist (e.g. ../) the final result must still be within the cwd.</p>
<p>If an absolute path is provided it tests whether the path is within the cwd or not.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">relative_resolve</span><span class="p">(</span><span class="n">candidate</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">cwd</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Resolve a candidate file path relative to a provided cwd.</span>

<span class="sd">    This is to circumvent bad behaviour for resolve on windows platforms where the path must exist.</span>

<span class="sd">    If a relative dir is passed it presumes the directory is relative to the PROVIDED cwd.</span>
<span class="sd">    If relative expansions exist (e.g. ../) the final result must still be within the cwd.</span>

<span class="sd">    If an absolute path is provided it tests whether the path is within the cwd or not.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Expand user first if applicable.</span>
    <span class="n">candidate</span> <span class="o">=</span> <span class="n">candidate</span><span class="o">.</span><span class="n">expanduser</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">cwd</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">TrestleError</span><span class="p">(</span><span class="s1">&#39;Error handling current working directory. CWD is expected to be absolute.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">candidate</span><span class="o">.</span><span class="n">is_absolute</span><span class="p">():</span>
        <span class="n">new</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="n">cwd</span> <span class="o">/</span> <span class="n">candidate</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">new</span> <span class="o">=</span> <span class="n">candidate</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">new</span><span class="o">.</span><span class="n">relative_to</span><span class="p">(</span><span class="n">cwd</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">TrestleError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Provided dir </span><span class="si">{</span><span class="n">candidate</span><span class="si">}</span><span class="s1"> is not relative to </span><span class="si">{</span><span class="n">cwd</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.save_top_level_model">
<code class="highlight language-python"><span class="n">save_top_level_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">trestle_root</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">file_content_type</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.save_top_level_model" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Save a model by name and infer model type by inspection.</p>
<p>You don't need to specify the model type (catalog, profile, etc.) but you must specify the file content type.
If the model directory does not exist, it is created.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">save_top_level_model</span><span class="p">(</span>
    <span class="n">model</span><span class="p">:</span> <span class="n">TopLevelOscalModel</span><span class="p">,</span> <span class="n">trestle_root</span><span class="p">:</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">,</span> <span class="n">model_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">file_content_type</span><span class="p">:</span> <span class="n">FileContentType</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Save a model by name and infer model type by inspection.</span>

<span class="sd">    You don&#39;t need to specify the model type (catalog, profile, etc.) but you must specify the file content type.</span>
<span class="sd">    If the model directory does not exist, it is created.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">root_model_path</span> <span class="o">=</span> <span class="n">_root_path_for_top_level_model</span><span class="p">(</span><span class="n">trestle_root</span><span class="p">,</span> <span class="n">model_name</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>
    <span class="n">full_model_path</span> <span class="o">=</span> <span class="n">root_model_path</span><span class="o">.</span><span class="n">with_suffix</span><span class="p">(</span><span class="n">FileContentType</span><span class="o">.</span><span class="n">to_file_extension</span><span class="p">(</span><span class="n">file_content_type</span><span class="p">))</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">full_model_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
        <span class="n">full_model_path</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">parents</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">oscal_write</span><span class="p">(</span><span class="n">full_model_path</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h4 class="doc doc-heading" id="trestle.utils.fs.should_ignore">
<code class="highlight language-python"><span class="n">should_ignore</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></code>


<a class="headerlink" href="#trestle.utils.fs.should_ignore" title="Permanent link">¤</a></h4>

    <div class="doc doc-contents ">

      <p>Check if the file or directory should be ignored or not.</p>

        <details class="quote">
          <summary>Source code in <code>trestle/utils/fs.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">should_ignore</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Check if the file or directory should be ignored or not.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;.&#39;</span> <span class="ow">or</span> <span class="n">name</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;_&#39;</span>
</code></pre></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>

<p>handler: python</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../trestle.transforms.transformer_singleton/" class="md-footer__link md-footer__link--prev" aria-label="Previous: transformer_singleton" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              transformer_singleton
            </div>
          </div>
        </a>
      
      
        
        <a href="../trestle.utils.load_distributed/" class="md-footer__link md-footer__link--next" aria-label="Next: load_distributed" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              load_distributed
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.361d90f1.min.js"}</script>
    
    
      <script src="../../assets/javascripts/bundle.289a2a4b.min.js"></script>
      
    
  </body>
</html>